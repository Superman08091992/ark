# ==============================================================================
# ARK Environment Variables Schema (REQ_SEC_01)
# ==============================================================================
# This file defines the required and optional environment variables for ARK.
# Use this as a template and validation reference.
#
# SECURITY NOTICE:
# - Never commit actual .env files to version control
# - Use different credentials for development, staging, and production
# - Rotate secrets regularly (at least every 90 days)
# - Use principle of least privilege for all credentials
# ==============================================================================

# ------------------------------------------------------------------------------
# Core System Configuration
# ------------------------------------------------------------------------------

# Environment mode (development, staging, production)
# REQUIRED | Values: development, staging, production
ARK_ENVIRONMENT=development

# Base data directory for databases and logs
# OPTIONAL | Default: ./data
ARK_DATA_DIR=./data

# Base log directory
# OPTIONAL | Default: ./logs
ARK_LOG_DIR=./logs

# Log level for all components
# OPTIONAL | Values: DEBUG, INFO, WARNING, ERROR, CRITICAL | Default: INFO
ARK_LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# API Server Configuration
# ------------------------------------------------------------------------------

# FastAPI backend port
# OPTIONAL | Default: 8101 | Range: 1024-65535
ARK_API_PORT=8101

# API host binding
# OPTIONAL | Default: 0.0.0.0
ARK_API_HOST=0.0.0.0

# API CORS origins (comma-separated)
# OPTIONAL | Default: *
ARK_CORS_ORIGINS=*

# API rate limiting (requests per minute)
# OPTIONAL | Default: 100
ARK_RATE_LIMIT=100

# ------------------------------------------------------------------------------
# Frontend Configuration
# ------------------------------------------------------------------------------

# Frontend development server port
# OPTIONAL | Default: 5173
ARK_FRONTEND_PORT=5173

# Frontend production build directory
# OPTIONAL | Default: ./frontend/dist
ARK_FRONTEND_DIST=./frontend/dist

# ------------------------------------------------------------------------------
# Redis Configuration (Optional - Federation & Caching)
# ------------------------------------------------------------------------------

# Redis connection URL
# OPTIONAL | Format: redis://host:port/db
REDIS_URL=redis://localhost:6379/0

# Redis host
# OPTIONAL | Default: localhost
REDIS_HOST=localhost

# Redis port
# OPTIONAL | Default: 6379
REDIS_PORT=6379

# Redis password (if authentication enabled)
# OPTIONAL | SENSITIVE
REDIS_PASSWORD=

# Redis database number
# OPTIONAL | Default: 0 | Range: 0-15
REDIS_DB=0

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------

# SQLite database path
# OPTIONAL | Default: ./data/ark.db
ARK_DB_PATH=./data/ark.db

# Reasoning logs database path
# OPTIONAL | Default: ./data/reasoning_logs.db
ARK_REASONING_DB_PATH=./data/reasoning_logs.db

# Enable database WAL mode (Write-Ahead Logging)
# OPTIONAL | Values: true, false | Default: true
ARK_DB_WAL_MODE=true

# Database backup directory
# OPTIONAL | Default: ./data/backups
ARK_DB_BACKUP_DIR=./data/backups

# ------------------------------------------------------------------------------
# Federation Protocol Configuration
# ------------------------------------------------------------------------------

# Federation private key path (Ed25519)
# REQUIRED for federation | SENSITIVE
ARK_FEDERATION_KEY_PATH=./keys/federation_private.key

# Federation peer discovery enabled
# OPTIONAL | Values: true, false | Default: false
ARK_FEDERATION_ENABLED=false

# Federation multicast group
# OPTIONAL | Default: 239.255.0.1
ARK_FEDERATION_MULTICAST=239.255.0.1

# Federation multicast port
# OPTIONAL | Default: 5007
ARK_FEDERATION_MULTICAST_PORT=5007

# Federation WebSocket port
# OPTIONAL | Default: 8102
ARK_FEDERATION_WS_PORT=8102

# ------------------------------------------------------------------------------
# Agent Configuration
# ------------------------------------------------------------------------------

# Enable/disable individual agents
ARK_AGENT_KYLE_ENABLED=true
ARK_AGENT_JOEY_ENABLED=true
ARK_AGENT_KENNY_ENABLED=true
ARK_AGENT_HRM_ENABLED=true
ARK_AGENT_ALETHEIA_ENABLED=true
ARK_AGENT_ID_ENABLED=true

# Agent reasoning depth (SHALLOW, MODERATE, DEEP, EXHAUSTIVE)
ARK_DEFAULT_REASONING_DEPTH=DEEP

# ------------------------------------------------------------------------------
# External API Keys (Optional - for agent data sources)
# ------------------------------------------------------------------------------

# Telegram Bot Token
# OPTIONAL | SENSITIVE | Required for Telegram integration
TELEGRAM_BOT_TOKEN=

# Telegram allowed user IDs (comma-separated)
# OPTIONAL | Format: 123456789,987654321
TELEGRAM_ALLOWED_USERS=

# OpenAI API Key
# OPTIONAL | SENSITIVE | Required for GPT integration
OPENAI_API_KEY=

# Anthropic API Key
# OPTIONAL | SENSITIVE | Required for Claude integration
ANTHROPIC_API_KEY=

# Ollama host
# OPTIONAL | Default: http://localhost:11434
OLLAMA_HOST=http://localhost:11434

# Alpaca API credentials (for trading)
# OPTIONAL | SENSITIVE | Required for live trading
ALPACA_API_KEY=
ALPACA_API_SECRET=
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# Coinbase API credentials
# OPTIONAL | SENSITIVE | Required for crypto trading
COINBASE_API_KEY=
COINBASE_API_SECRET=

# News API Key
# OPTIONAL | SENSITIVE | Required for news scanning
NEWS_API_KEY=

# ------------------------------------------------------------------------------
# Security Configuration
# ------------------------------------------------------------------------------

# Session secret for cookies/JWT
# REQUIRED | SENSITIVE | Generate with: openssl rand -hex 32
ARK_SESSION_SECRET=

# JWT expiration time
# OPTIONAL | Default: 24h
ARK_JWT_EXPIRATION=24h

# Enable audit logging
# OPTIONAL | Values: true, false | Default: true
ARK_AUDIT_ENABLED=true

# Audit log file path
# OPTIONAL | Default: ./logs/audit.log
ARK_AUDIT_LOG_PATH=./logs/audit.log

# Maximum log file size (MB)
# OPTIONAL | Default: 50
ARK_MAX_LOG_SIZE_MB=50

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------

# Enable LLM integration
ARK_ENABLE_LLM=true

# Enable web search capabilities
ARK_ENABLE_WEB_SEARCH=false

# Enable live trading (false = paper trading only)
ARK_ENABLE_LIVE_TRADING=false

# Enable federation (P2P sync)
ARK_ENABLE_FEDERATION=false

# Enable reflection system
ARK_ENABLE_REFLECTION=true

# Enable ID growth system
ARK_ENABLE_ID_GROWTH=true

# ------------------------------------------------------------------------------
# Performance Tuning
# ------------------------------------------------------------------------------

# Number of worker processes
# OPTIONAL | Default: 4
ARK_WORKERS=4

# WebSocket connection timeout (seconds)
# OPTIONAL | Default: 60
ARK_WS_TIMEOUT=60

# Memory consolidation interval (hours)
# OPTIONAL | Default: 6
ARK_MEMORY_CONSOLIDATION_INTERVAL=6

# Reflection cycle time (cron expression)
# OPTIONAL | Default: 0 0 * * * (midnight daily)
ARK_REFLECTION_CRON=0 0 * * *

# ------------------------------------------------------------------------------
# Monitoring & Observability
# ------------------------------------------------------------------------------

# Prometheus metrics endpoint enabled
# OPTIONAL | Values: true, false | Default: true
ARK_METRICS_ENABLED=true

# Metrics endpoint port
# OPTIONAL | Default: 9090
ARK_METRICS_PORT=9090

# Health check interval (seconds)
# OPTIONAL | Default: 30
ARK_HEALTH_CHECK_INTERVAL=30

# ------------------------------------------------------------------------------
# Development & Testing
# ------------------------------------------------------------------------------

# Enable debug mode (verbose logging, no auth)
# WARNING: NEVER enable in production
ARK_DEBUG_MODE=false

# Enable hot reload for development
ARK_HOT_RELOAD=false

# Mock external APIs for testing
ARK_MOCK_APIS=false

# ==============================================================================
# VALIDATION RULES
# ==============================================================================
#
# REQUIRED fields must be set in production
# SENSITIVE fields must never be logged or displayed
# Default values are used if not specified
#
# Credential Isolation:
# - Telegram credentials: TELEGRAM_*
# - LLM credentials: OPENAI_*, ANTHROPIC_*, OLLAMA_*
# - Trading credentials: ALPACA_*, COINBASE_*
# - Infrastructure credentials: REDIS_PASSWORD, ARK_SESSION_SECRET
#
# Security Boundaries:
# - Never mix production and development credentials
# - Use separate API keys per environment
# - Rotate all SENSITIVE credentials every 90 days
# - Use read-only credentials where possible
# - Enable audit logging in production
#
# ==============================================================================
